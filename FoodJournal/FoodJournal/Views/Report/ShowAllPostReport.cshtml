@model IEnumerable<DataLayer.Class.Report>

@{
    ViewBag.Title = "ShowAllPostReport";
    Layout = "~/Views/Shared/adminheaderandfooter.cshtml";
}


@section styles{
    <style>
        .table1 tr th, .table2 tr td {
            width: 25%;
        }
    </style>

<link href="~/Content/css/admin-report-switch.css" rel="stylesheet" />

}


<div class="container">


    <div class="row">
        <div class="col-md-12 text-center">
            <h1 class="bg-danger text-white">Report Against Food Reviews</h1>
        </div>
    </div>


    <table class="table table1" style="text-align:center">

        <tr>

            <th>
                Posted By
            </th>

            <th>
                Reported By
            </th>

            <th>
                Time
            </th>

            <th>
                Details
            </th>

            <th>
                Status
            </th>
        </tr>

    </table>

    @foreach (var item in Model)
    {
        <table class="table2 table table-striped table-hover" style="text-align:center">
            <tbody>
                <tr>
                    <td>
                        <a href="/profile/view/@item.ReportedIdUser.UserID">@item.ReportedIdUser.Name</a>
                    </td>

                    <td>
                        <a href="/Profile/view/@item.ReportedByUser.UserID">@item.ReportedByUser.Name</a>
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.Time)
                    </td>

                    <td>
                        <button class="bg-dark text-white" onclick="details(@item.ReportId)"> Details</button>
                    </td>

                    <td>
                        @{
                            if (item.Post.Status == 0)
                            {
                                <label class="switch">
                                    <input onclick="PostStatusChange(@item.Post.PostID)" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            }
                            else
                            {
                                <label class="switch">
                                    <input checked onclick="PostStatusChange(@item.Post.PostID)" type="checkbox">
                                    <span class="slider round"></span>
                                </label>
                            }
                        }

                    </td>

                </tr>

            </tbody>
        </table>

        <div style="border: 2px solid blue; display:none; font-size: 18px;" id="resDetails_@item.ReportId">
            <table class="table text-center">


                <tr>
                    <td>
                        <h1>@item.Post.Title</h1>
                    </td>
                </tr>

                <tr>
                      <td><img style="width:400px"  src="@item.Post.Image"/></td>
                </tr>

                <tr>
                    <td><b>Restaurant Name: </b>@item.Post.RestaurantName</td>
                </tr>
                <tr>
                    <td><b>Location:</b> @item.Post.Location</td>
                </tr>
                <tr>
                    <td><b>Price: </b>@item.Post.Price</td>
                </tr>
                <tr>
                    <td><b>Rating: </b>@item.Post.Rating</td>
                </tr>
                <tr>
                    <td><a target="_blank" href="/post/details/@item.Post.PostID"><b>Go To The Post</b></a></td>
                </tr>
            </table>
        </div>

    }


</div>



@section scripts{

    <script>



        function details(buttonid) {

            var btnid = "resDetails_" + buttonid;

            //  alert(btnid);

           //  $("#" + btnid).css('display', 'none');

            $("#" + btnid).toggle("blind", 500);

        }

    </script>

<script src="~/Scripts/status.js"></script>


}
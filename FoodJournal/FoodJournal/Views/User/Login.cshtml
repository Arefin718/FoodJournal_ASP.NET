@model DataLayer.User

@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/headerAndFooter.cshtml";
}


@section styles{
    
<link href="~/Content/css/user-login.css" rel="stylesheet" />
    
    }

<div class="container">
    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <h2 class="col-md-offset-6">Login</h2>
            <hr />

            @*
               
            *@
            <div class="form-group">
                @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", type="email"} })
                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.TextBoxFor(m => Model.Password, new { type = "password" })
                    @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                </div>
            </div>





            <div class="form-group">
                <div class="col-sm-12">
                    <h1 style="color:red; text-align:center;">@TempData["ErrorMessage"]</h1>
                </div>
            </div>
        </div>




            <div class="form-group">
                <div class="col-md-offset-5 col-md-2">
                    <input type="submit" value="Login" class="btn btn-default" />
                </div>
            </div>


            <div class="form-group">
                <div class="col-sm-12">
                    <h1 style="color:black; text-align:center;">OR</h1>
                </div>
            </div>



            <div class="form-group">
                <div class="col-md-offset-4 col-md-4">
                    <span id="GoogleLogin" onclick="login()"><img style="height:60px; cursor:pointer" src="~/Content/images/blog/sign-in-with-google.JPG" /></span>
                </div>
            </div>


            <div class="form-group">
                <div class="col-sm-12 text-center" style="padding-top:20px;">
                    <h3 text-align:center;">Forgot your Password? <a class="text-primary" href="/forgetpassword/recover">Recover</a></h3>
                </div>
            </div>



        <div class="form-group">
            <div class="col-sm-12">
                <h3 text-align:center;">Don't have an account? <a class="text-primary" href="/user/registration">Create Now</a></h3>
            </div>
        </div>
    }

    <button style="display:none" id="popUpOpen" class="btn" data-popup-open="popup-1"></button>


    <div class="popup" data-popup="popup-1">


            <div class="popup-inner">

                <form style="display:inline" method="post" action="/SocialLogin/GoogleLogin"> 
      
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <h2 class="bg-dark text-white">Food Journal Profile will Look like</h2>
                            <div><img id="imgHolder" style="height:120px;width:120px;" /></div>
                        </div>
                    </div>

                    <div class="row">
                        <span class="h1"><b>Name: </b><span id="userName"></span></span>
                    </div>

                    <div class="row">
                        <span class="h1"><b>Email: </b><span  id="userEmail"></span></span>
                    </div>

         
                        <div class="row">
                            <label  class="h1 text-center text-primary"><b>Password: </b></label>
                            <input type="text" required placeholder="Enter a password to get started..." name="Password" />
                            <a class="popup-close" data-popup-close="popup-1" href="#">x</a>
                        </div>
       
                    <input type="hidden" id="googleName" name="Name"/>
                    <input type="hidden" id="googleEmail" name="Email"/>
                    <input type="hidden" id="googleImage" name="Image" />
     


                    <div class="row">
                        <div class="col-md-4 col-md-offset-4">
                            <input type="submit" class="btn btn-primary" style="font-size:25px;" value="Sign Up" />
                        </div>
                    </div>

                    <div class="row">
                        <p class="text-primary">*Your can edit your Profile later from "Profile>Edit"</p>
                    </div>

                </form>


</div>

     
    </div>

</div>



@section scripts{


<script>
    $("#dialog").dialog({
        dialogClass: "no-close",
        buttons: [
            {
                text: "OK",
                click: function () {
                    $(this).dialog("close");
                }
            }
        ]
    });
</script>

        <script src="~/Scripts/user-login.js"></script>
        <script src="~/Scripts/google-sign-in.js"></script>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
    }